<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta name="generator" content="pandoc" />
  <title></title>
  <style type="text/css">code{white-space: pre;}</style>
</head>
<body>
<h1 id="todo.txt-vim">Todo.txt-vim</h1>
<pre><code>    #####                                                #     #
      #    ####  #####   ####     ##### #    # #####     #     # # #    #
      #   #    # #    # #    #      #    #  #    #       #     # # ##  ##
      #   #    # #    # #    #      #     ##     #   ### #     # # # ## #
      #   #    # #    # #    #      #     ##     #        #   #  # #    #
      #   #    # #    # #    # ##   #    #  #    #         # #   # #    #
      #    ####  #####   ####  ##   #   #    #   #          #    # #    #

                    Efficient Todo.txt management in vim</code></pre>
<h2 id="table-of-contents">Table of Contents</h2>
<ol style="list-style-type: decimal">
<li><a href="#release-notes">Release notes</a></li>
<li><a href="#introduction">Introduction</a>
<ol style="list-style-type: decimal">
<li><a href="#todo.txt-rules">Todo.txt rules</a></li>
<li><a href="#Why-this-fork-?">Why this Fork ?</a></li>
<li><a href="#installation">Installation</a></li>
</ol></li>
<li><a href="#todotxt-files">TodoTxt Files</a></li>
<li><a href="#completion">Completion</a></li>
<li><a href="#hierarchical-sort">Hierarchical Sort</a></li>
<li><a href="#mappings">Mappings</a>
<ol style="list-style-type: decimal">
<li><a href="#sort">Sort</a></li>
<li><a href="#priorities">Priorities</a></li>
<li><a href="#dates">Dates</a></li>
<li><a href="#done">Done</a></li>
</ol></li>
</ol>
<h2 id="release-notes">Release notes</h2>
<p>Since v0.7.3, <code>TodoComplete</code> is replaced by <code>todo#Complete</code>, you might need to update your vimrc (see <a href="#completion">completion</a>).</p>
<h2 id="introduction">Introduction</h2>
<p>Todo.txt-vim is a plugin to manage todo.txt files it was initially designed by <a href="https://github.com/freitass/todo.txt-vim">Freitass</a> then forked and improved by David Beniamine.</p>
<h3 id="todo.txt-rules">Todo.txt rules</h3>
<p>Todo.txt is a standard human readable todo notes file defined <a href="http://todotxt.com">here</a>:</p>
<p>“The todo.txt format is a simple set of <a href="https://github.com/ginatrapani/todo.txt-cli/wiki/The-Todo.txt-Format">rules</a> that make todo.txt both human and machine-readable. The format supports priorities, creation and completion dates, projects and contexts. That’s all you need to be productive. See an example Todo.txt file”:</p>
<pre><code>(A) Call Mom @Phone +Family
(A) Schedule annual checkup +Health
(B) Outline chapter 5 +FamilyNovel @Computer
(C) Add cover sheets @ComputerOffice +FamilyTPSReports
Plan backyard herb garden @ComputerHome
Pick up milk @ComputerGroceryStore
Research self-publishing services +FamilyNovel @ComputerComputer
x Download Todo.txt mobile app @ComputerPhone</code></pre>
<h3 id="why-this-fork">Why this fork ?</h3>
<p>This plugin is a fork of <a href="https://github.com/freitass/todo.txt-vim">freitass todo.txt-vim</a>. It add severals cool functionalities including:</p>
<ul>
<li><a href="##hierarchical-sort">Hierarchical sort</a></li>
<li><a href="#completion">A completion function</a></li>
<li><a href="#dates">A proper handling of due dates</a></li>
<li><a href="#todotxt-files">A Flexible file naming</a>.</li>
<li>Syntax Highlight for couples key:value.</li>
<li><code>&lt;LocalLeader&gt;x</code> is a toggle which allow you to unmark a task as done.</li>
<li><code>&lt;LocalLeader&gt;C</code> Toggle Mark a task cancelled</li>
<li>If the current buffer is a done.txt file, the basic sort sorts on completion date.</li>
<li>…</li>
</ul>
<h3 id="installation">Installation</h3>
<h4 id="vizardry">Vizardry</h4>
<p>If you have <a href="https://github.com/dbeniamine/vizardry">Vizardry</a> installed, you can run from vim:</p>
<pre><code>:Invoke -u dbeniamine todo.txt-vim</code></pre>
<h4 id="pathogen-install">Pathogen install</h4>
<pre><code>git clone https://github.com/dbeniamine/todo.txt-vim.git ~/.vim/bundle/todo.txt-vim</code></pre>
<p>Then from vim: <code>:Helptags</code> to update the doc</p>
<h4 id="quick-install">Quick install</h4>
<pre><code>    git clone https://github.com/dbeniamine/todo.txt-vim.git
    cd todo.txt-vim
    cp -r ./* ~/.vim</code></pre>
<p>If you want the help installed, run <code>:helptags ~/.vim/doc</code> inside vim after having copied the files. Then you will be able to get the commands help with: <code>:h todo.txt</code></p>
<h2 id="todotxt-files">TodoTxt Files</h2>
<p>This plugin provides a Flexible file naming for todo.txt, all the following names are recognized as todo:</p>
<pre><code>YYYY-MM-[Tt]odo.txt
YYYY-MM-DD[Tt]odo.txt
[Tt]odo-YYYY-MM.txt
[Tt]odo-YYYY-MM-DD.txt
[Tt]odo.txt
[Tt]oday.txt</code></pre>
<p>And obviously the same are recognize as done:</p>
<pre><code>YYYY-MM-[Dd]one.txt
YYYY-MM-DD[Dd]one.txt
[Dd]one-YYYY-MM.txt
[Dd]one-YYYY-MM-DD.txt
[Dd]one.txt
[Dd]one-[Tt]oday.txt</code></pre>
<p>Moreover, <code>&lt;LocalLeader&gt;D</code> moves the task under the cursor to the done.txt file corresponding to the current todo.txt, aka if you are editing 2015-07-07-todo.txt, the done file while be 2015-07-07-done.txt. If you don’t like this behavior, you can set the default done.txt name:</p>
<pre><code>let g:TodoTxtForceDoneName=&#39;done.txt&#39;</code></pre>
<h2 id="completion">Completion</h2>
<p>This plugin provides a nice complete function for project and context, to use it add the following lines to your vimrc:</p>
<pre><code>&quot; Use todo#complete as the omni complete function for todo files
au filetype todo setlocal omnifunc=todo#complete</code></pre>
<p>You can also start automatically the completion when entering ‘+’ or ‘@’ by adding the next lines to your vimrc:</p>
<pre><code>&quot; Auto complete projects
au filetype todo imap &lt;buffer&gt; + +&lt;C-X&gt;&lt;C-O&gt;

&quot; Auto complete contexts
au filetype todo imap &lt;buffer&gt; @ @&lt;C-X&gt;&lt;C-O&gt;</code></pre>
<p>The <code>todo#complete</code> function is designed to complete projects (starting by <code>+</code>) and context (starting by <code>@</code>). If you use it on a regular word, it will do a normal keyword completion (on all buffers).</p>
<p>If you try to complete a project, it will propose all projects in all open buffers and for each of them, it will show their context and the name of the buffers in which they appears in the preview window. It does the same thing for context except that it gives in the preview the list of projects existing in each existing contexts.</p>
<h2 id="hierarchical-sort">Hierarchical sort</h2>
<p>This fork provides a hierarchical sorting function designed to do by project and/or by context sorts and a priority sort.</p>
<p><code>&lt;LocalLeader&gt;sc</code> : Sort the file by context then by priority <code>&lt;LocalLeader&gt;scp</code> : Sort the file by context, project then by priority <code>&lt;LocalLeader&gt;sp</code> : Sort the file by project then by priority <code>&lt;LocalLeader&gt;spc</code> : Sort the file by project, context then by priority</p>
<p>The user can give argument for the two calls to vim sort function by changing the following variables:</p>
<pre><code>g:Todo_txt_first_level_sort_mode
g:Todo_txt_second_level_sort_mode</code></pre>
<p>Defaults values are:</p>
<pre><code>g:Todo_txt_first_level_sort_mode=&quot;i&quot;
g:Todo_txt_second_level_sort_mode=&quot;i&quot;</code></pre>
<p>For more information on the available flags see <code>help :sort</code></p>
<h2 id="mappings">Mappings</h2>
<p><code>&lt;LocalLeader&gt;</code> is   by default, so ̀<code>&lt;LocaLeader&gt;-s</code> means you type </p>
<h3 id="sort">Sort</h3>
<ul>
<li><code>&lt;LocalLeader&gt;s</code> : Sort the file by priority</li>
<li><code>&lt;LocalLeader&gt;s+</code> : Sort the file on <code>+Projects</code></li>
<li><code>&lt;LocalLeader&gt;s@</code> : Sort the file on <code>@Contexts</code></li>
<li><code>&lt;LocalLeader&gt;s@</code> : Sort the file on due dates</li>
<li><code>&lt;LocalLeader&gt;sc</code> : Sort the file by context then by priority</li>
<li><code>&lt;LocalLeader&gt;scp</code> : Sort the file by context, project then by priority</li>
<li><code>&lt;LocalLeader&gt;sp</code> : Sort the file by project then by priority</li>
<li><code>&lt;LocalLeader&gt;spc</code> : Sort the file by project, context then by priority</li>
<li><code>&lt;leader&gt;-sd</code> : Sort the file by due-date. Entries with a due date appears sorted by at the beginning of the file, the rest of the file is not modified.</li>
</ul>
<h3 id="priorities">Priorities</h3>
<ul>
<li><code>&lt;LocalLeader&gt;j</code> : Lower the priority of the current line</li>
<li><code>&lt;LocalLeader&gt;k</code> : Increase the priority of the current line</li>
<li><code>&lt;LocalLeader&gt;a</code> : Add the priority (A) to the current line</li>
<li><code>&lt;LocalLeader&gt;b</code> : Add the priority (B) to the current line</li>
<li><code>&lt;LocalLeader&gt;c</code> : Add the priority (C) to the current line</li>
</ul>
<h3 id="dates">Dates</h3>
<ul>
<li><code>&lt;LocalLeader&gt;d</code> : Insert the current date</li>
<li><code>date&lt;tab&gt;</code> : (Insert mode) Insert the current date</li>
<li><code>due:</code> : (Insert mode) Insert <code>due:</code> followed by the current date</li>
<li><code>DUE:</code> : (Insert mode) Insert <code>DUE:</code> followed by the current date</li>
</ul>
<h3 id="done">Done</h3>
<ul>
<li><code>&lt;LocalLeader&gt;x</code> : Toggle mark task as done (inserts or remove current</li>
<li>date as completion date)</li>
<li><code>&lt;LocalLeader&gt;C</code> : Toggle mark task cancelled</li>
<li><code>&lt;LocalLeader&gt;X</code> : Mark all tasks as completed</li>
<li><code>&lt;LocalLeader&gt;D</code> : Move completed tasks to done file, see <a href="#todotxt-files">TodoTxt Files</a></li>
</ul>
</body>
</html>
